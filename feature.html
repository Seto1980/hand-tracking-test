<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ストア用画像作成 (中央配置・完成版)</title>
<style>
    body { background: #222; color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; font-family: sans-serif; }
    canvas { border: 2px solid #fff; margin: 20px; max-width: 90%; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
    button { padding: 15px 40px; font-size: 1.2rem; background: #4caf50; color: white; border: none; cursor: pointer; border-radius: 30px; font-weight: bold; }
    button:hover { background: #45a049; }
</style>
</head>
<body>

<h2>Google Play用 フィーチャーグラフィック (1024x500)</h2>
<p>下のボタンを押すと、画像を生成してダウンロードします。</p>

<canvas id="myCanvas" width="1024" height="500"></canvas>
<br>
<button onclick="downloadImage()">画像をダウンロード</button>

<script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');
    const canvasWidth = 1024;
    const canvasHeight = 500;

    // 1. 背景：清潔感のある緑のグラデーション
    const gradient = ctx.createLinearGradient(0, 0, canvasWidth, canvasHeight);
    gradient.addColorStop(0, '#11998e');  // 左上
    gradient.addColorStop(1, '#38ef7d');  // 右下
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvasWidth, canvasHeight);

    const img = new Image();
    img.src = 'icon.png'; // GitHubのアイコンを読み込む
    
    img.onload = () => {
        // --- サイズと間隔の設定（バランス調整）---
        const iconSize = 280; // アイコンを少し小さくして上品に
        const padding = 50;   // アイコンと文字の間隔を広げて見やすく
        ctx.font = "bold 90px sans-serif"; // 文字を大きくして視認性アップ
        
        // --- 配置計算 ---
        const text1 = "AIリハビリ";
        const text2 = "カウンター";
        // 文字列の幅を計算（長い方に合わせる）
        const textWidth = Math.max(ctx.measureText(text1).width, ctx.measureText(text2).width);
        
        // 全体のコンテンツ幅を計算し、中央の開始位置を割り出す
        const contentWidth = iconSize + padding + textWidth;
        const startX = (canvasWidth - contentWidth) / 2;
        const iconY = (canvasHeight - iconSize) / 2;
        
        // --- 共通の影設定 ---
        ctx.shadowColor = "rgba(0,0,0,0.3)";
        ctx.shadowBlur = 25;
        ctx.shadowOffsetX = 8;
        ctx.shadowOffsetY = 8;

        // 2. アイコンの描画
        ctx.drawImage(img, startX, iconY, iconSize, iconSize);
        
        // 3. テキストの描画
        ctx.fillStyle = "white";
        ctx.textAlign = "left";
        ctx.textBaseline = "middle"; // 垂直方向の中央揃え
        
        const textX = startX + iconSize + padding;
        const textCenterY = canvasHeight / 2;
        // 2行のテキストを中央寄せで配置（バランスよく上下に配置）
        ctx.fillText(text1, textX, textCenterY - 55);
        ctx.fillText(text2, textX, textCenterY + 55);
    };

    function downloadImage() {
        const link = document.createElement('a');
        link.download = 'feature_graphic.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
    }
</script>

</body>
</html>
